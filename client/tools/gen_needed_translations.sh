#!/bin/bash
echo '-- generated by ./tools/gen_needed_translations.sh'
echo 'neededTranslations = {'
cat <(find -L \( -name "*.lua" -o -name "*.otui" \) -exec grep -oE "tr\\('(\\\\'|[^'])*'" {} \;) \
    <(find -L \( -name "*.lua" -o -name "*.otui" \) -exec grep -oE "tr\\(\"(\\\\\"|[^\"])*\"" {} \;) \
    | sort | uniq | sed "s/^tr(.\(.*\).$/  \"\1\",/"
echo '}'
